!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";!function(a,b){var c=a("./request"),d=a("./notifications")(c);window&&(window.Notifications=d),b&&b.exports&&(b.exports=d)}(a,b)},{"./notifications":2,"./request":3}],2:[function(a,b,c){!function(a){a.exports=function(a){var b=function(a){for(var b={timestamp:0},c=0;c<a.length;c++){var d=a[c];d.timestamp>b.timestamp&&(b=d)}return b};return function(c,d){return{token:d,baseUrl:c+"/api/notifications",getLastN:function(c,d,e){var f=this.baseUrl+"/last/"+c;a.get(f,this.token,function(a){a.length>0&&(this.last=b(a)),d&&d(a)}.bind(this),e)},create:function(b,c,d,e){var f={usernames:b,payload:c};a.post(this.baseUrl,this.token,f,d,e)},unread:function(c,d){var e=this.baseUrl+"/unread";a.get(e,this.token,function(a){a.length>0&&(this.last=b(a)),c&&c(a)}.bind(this),d)},after:function(c,d,e){var f=this.baseUrl+"/after/"+c;a.get(f,this.token,function(a){a.length>0&&(this.last=b(a)),d&&d(a)}.bind(this),e)},read:function(b,c,d){var e=this.baseUrl+"/"+b+"/read";a.post(e,this.token,{},c,d)},poll:function(a,b,c){var d=1e3*a;this.polling=setInterval(function(){this.last?this.after(this.last.id,b,c):this.unread(b,c)}.bind(this),d)},stopPolling:function(){clearInterval(this.polling)}}}}}(b)},{}],3:[function(a,b,c){"use strict";!function(a){function b(a,b,c,d,e,f){var g=null,h=a+"?token="+c;"GET"!=b&&(g=JSON.stringify(d));var i=new XMLHttpRequest;i.onload=function(){e&&e(JSON.parse(i.responseText))},i.onerror=function(){f&&f(i.responseText)},i.open(b,h,!0),i.setRequestHeader("Content-type","application/json"),i.send(g)}a.exports={get:function(a,c,d,e){b(a,"GET",c,{},d,e)},post:function(a,c,d,e,f){b(a,"POST",c,d,e,f)}}}(b)},{}]},{},[1]);